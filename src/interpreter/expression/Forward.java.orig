package interpreter.expression;

import interpreter.SLogoResult;
import interpreter.TurtleCommandResult;
<<<<<<< HEAD:src/interpreter/expression/Forward.java
=======
import interpreter.expression.SLogoExpression;

>>>>>>> tfj3:src/interpreter/expression/turtlecommand/ForwardCommand.java
import java.util.List;

import transitionstate.TransitionState;

public class Forward extends TurtleCommandExpression {
    private List<SLogoExpression> myParameters;
    
    @Override
    public void loadArguments(List<SLogoExpression> args) {
<<<<<<< HEAD:src/interpreter/expression/Forward.java
        myParameters =  args;
=======
        myParameters =  (SLogoExpression[]) args.toArray();
>>>>>>> tfj3:src/interpreter/expression/turtlecommand/ForwardCommand.java
    }

    @Override
    public SLogoResult evaluate() {
        SLogoResult previousResult = myParameters.get(0).evaluate();
        TransitionState prevTransition = previousResult.getTransition().get(0);
        TransitionState nextTransition = new TransitionState(prevTransition.getPenUp(), 
                                                             prevTransition.getTurtleVisible(), 
                                                             previousResult.getValue(), 
                                                             prevTransition.getRotateClockwise(),
                                                             prevTransition.getRotateCounterClockwise());
        SLogoResult myResult = new TurtleCommandResult(previousResult.getValue());
        myResult.getTransition().add(nextTransition);
        myResult.getTransition().addAll(previousResult.getTransition());
        return myResult;
        
    }


}
